import Head from 'next/head'
import { useState } from 'react'
import { v4 as uuidv4 } from 'uuid'

export default function Home() {
  const [todoItem, setTodoItem] = useState('');
  const [items, setItems] = useState([
    {
      id: '1',
      message: 'Iphone 7',
      done: false,
    }
  ]);

  const handleAdd = () => {
    if (todoItem) {
      setItems([
        {
          id: uuidv4(),
          message: todoItem,
          done: false,
        },
        ...items
      ]);

      setTodoItem("")
    }

  }

  return (
    <>
      <Head>
        <title>Simple App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main>
        <div>
          <h1>Phones Specifications</h1>
          <div>
            <input
              type="text"
              value={todoItem}
              onChange={(e) => setTodoItem(e.target.value)}
            />
            <button onClick={handleAdd}>Add Phone</button>
          </div>
          <ul>
            {items.map(({ id, message} ) => (
              <li key={id}>{message}</li>
            ))}
          </ul>
        </div>
      </main>
    </>
  )
}
