import Head from 'next/head'
import { useState } from 'react'
import { v4 as uuidv4 } from 'uuid'

export default function Home() {
  const [todoItem, setTodoItem] = useState('');
  const [todoItemDesc, setTodoItemDesc] = useState('')

  const [items, setItems] = useState([
    {
      id: '1',
      title: 'Iphone 7',
      description: 'good'
    }
  ]);

  const handleAdd = () => {
    if (todoItem && todoItemDesc) {
      setItems([
        {
          id: uuidv4(),
          title: todoItem,
          description: todoItemDesc
        },
        ...items
      ]);

      setTodoItem(""),
        setTodoItemDesc("")
    }

  }

  return (
    <>
      <Head>
        <title>Simple App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main>
        <div>
          <h1>Phones Specifications</h1>
          <div>
            <input
              type="text"
              value={todoItem}
              onChange={(e) => setTodoItem(e.target.value)}
            />
            <input
              type="text"
              value={todoItemDesc}
              onChange={(e) => setTodoItemDesc(e.target.value)}
            />
            <button onClick={handleAdd}>Add Phone</button>
          </div>
          <ul>
            {items.map(({ id, title, description }) => (
              <div key={id}>
                <h1>{title}</h1>
                <p>{description}</p>
                <button>Delete</button>
              </div>
            ))}
          </ul>
        </div>
      </main>
    </>
  )
}
